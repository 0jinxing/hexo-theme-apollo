//- LaTex
script(async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous")
//- gitalk
if is_post()
    script(src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js")
    script.
        var linkEl = document.createElement('link')
        linkEl.setAttribute('href', 'https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css');
        linkEl.setAttribute('rel', 'stylesheet')
        document.head.append(linkEl);

        window.onload = function() {
            var gitalk = new Gitalk({
                clientID: 'c447a78258be424fa8fd',
                clientSecret: '5fb2f49f3680f2af3d0b10b3b8aa12e1f9f7f034',
                repo: 'blog',
                owner: 'unroll',
                admin: ['unroll'],
                id: location.pathname,      // Ensure uniqueness and length less than 50
                distractionFreeMode: false  // Facebook-like distraction free mode
            });

            var mainEl = document.querySelector('main');
            var gitalkContainer = document.createElement('div');
            gitalkContainer.setAttribute('id', 'gitalk-container');
            mainEl.appendChild(gitalkContainer);

            gitalk.render('gitalk-container');
        };
